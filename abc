<div
  class="upload-container mat-elevation-z8"
  [class.drag-over]="isDragOver"
  (dragover)="onDragOver($event)"
  (dragleave)="onDragLeave($event)"
  (drop)="onDrop($event)"
>
  <h2>File Uploader</h2>

  <label class="file-label" for="fileInput">
    <mat-icon class="upload-icon">cloud_upload</mat-icon>
    <span>Click or Drag Files Here</span>
    <input type="file" id="fileInput" (change)="onFileSelected($event)" multiple hidden />
  </label>

  <div *ngIf="files.length > 0" class="section">
    <h3>Selected Files</h3>
    <mat-card class="file-card" *ngFor="let file of files; let i = index">
      <div class="file-details">
        <strong>#{{ i + 1 }}. {{ file.name }}</strong>
        <span>{{ file.size | number }} bytes</span>
      </div>
      <button mat-icon-button color="warn" (click)="removeFile(i)">
        <mat-icon>delete</mat-icon>
      </button>
    </mat-card>

    <button mat-raised-button color="primary" (click)="uploadFiles()" [disabled]="isUploading">
      Upload All
    </button>

    <mat-progress-bar *ngIf="isUploading" mode="indeterminate" color="accent"></mat-progress-bar>
  </div>

  <div *ngIf="uploaded.length > 0" class="section">
    <h3>Uploaded Files</h3>
    <mat-card class="uploaded-card" *ngFor="let file of uploaded; let i = index">
      <div class="file-details">
        <strong>#{{ i + 1 }}. {{ file.name }}</strong>
        <span>{{ file.size | number }} bytes</span>
      </div>
      <button mat-icon-button color="warn" (click)="removeUploaded(i)">
        <mat-icon>delete</mat-icon>
      </button>
    </mat-card>
  </div>
</div>