import { Component, Input } from '@angular/core';
import { MatIconModule } from '@angular/material/icon';
import { MatListModule } from '@angular/material/list';
import { MatExpansionModule } from '@angular/material/expansion';
import { NgIf, NgClass, NgFor } from '@angular/common';

@Component({
  selector: 'app-sidebar',
  standalone: true,
  imports: [NgIf, NgClass, NgFor, MatIconModule, MatListModule, MatExpansionModule],
  templateUrl: './sidebar.component.html',
  styleUrls: ['./sidebar.component.css']
})
export class SidebarComponent {
  @Input() collapsed = false;

  menus = [
    { icon: 'apartment', label: 'Manage Company', route: '/company' },
    { icon: 'description', label: 'Recon Master', route: '/recon', children: [] },
    { icon: 'category', label: 'Context Type', route: '/context' },
    {
      icon: 'inventory_2',
      label: 'Reference Data',
      children: [
        'Accounting Period Groups',
        'Calendars',
        'Counterparties',
        'Currencies',
        'Exchange Rates',
        'Item Types',
        'Reason Codes',
        'Securities',
        'Tags'
      ]
    },
    { icon: 'search', label: 'Audit', route: '/audit' },
    {
      icon: 'article',
      label: 'Logs',
      children: []
    }
  ];
}





<div class="sidebar" [ngClass]="{ 'collapsed': collapsed }">
  <mat-nav-list>
    <ng-container *ngFor="let item of menus">
      <ng-container *ngIf="!item.children?.length">
        <a mat-list-item>
          <mat-icon>{{ item.icon }}</mat-icon>
          <span *ngIf="!collapsed">{{ item.label }}</span>
        </a>
      </ng-container>

      <ng-container *ngIf="item.children?.length">
        <mat-expansion-panel class="expansion" [hideToggle]="collapsed">
          <mat-expansion-panel-header>
            <mat-panel-title>
              <mat-icon>{{ item.icon }}</mat-icon>
              <span *ngIf="!collapsed">{{ item.label }}</span>
            </mat-panel-title>
          </mat-expansion-panel-header>
          <ng-container *ngIf="!collapsed">
            <mat-nav-list>
              <a mat-list-item *ngFor="let child of item.children">{{ child }}</a>
            </mat-nav-list>
          </ng-container>
        </mat-expansion-panel>
      </ng-container>
    </ng-container>
  </mat-nav-list>
</div>





.sidebar {
  background-color: #144a64; /* FIS sidebar color */
  color: white;
  width: 260px;
  transition: width 0.3s ease;
  padding: 8px;
  overflow-y: auto;
  height: 100%;
}

.sidebar.collapsed {
  width: 70px;
  padding: 8px 4px;
}

mat-icon {
  color: white;
  margin-right: 16px;
}

a.mat-list-item {
  color: white;
  padding-left: 16px;
}

a.mat-list-item:hover {
  background-color: #0e3a50;
}

mat-expansion-panel {
  background-color: transparent !important;
  color: white;
  box-shadow: none;
}

mat-expansion-panel-header {
  padding-left: 16px;
}

.mat-expansion-panel-body a {
  padding-left: 32px;
  font-size: 14px;
}

.mat-expansion-panel-body a:hover {
  background-color: #0e3a50;
}
