<div
  class="upload-container mat-elevation-z6"
  [class.drag-over]="isDragOver"
  (dragover)="onDragOver($event)"
  (dragleave)="onDragLeave($event)"
  (drop)="onDrop($event)"
>
  <h2>File Uploader</h2>

  <label class="file-label" for="fileInput">
    <mat-icon fontIcon="cloud_upload" class="upload-icon"></mat-icon>
    <span>Select or Drag Files</span>
    <input
      type="file"
      id="fileInput"
      (change)="onFileSelected($event)"
      multiple
      hidden
    />
  </label>

  <div *ngIf="files.length > 0" class="file-list">
    <mat-list>
      <mat-list-item *ngFor="let file of files; let i = index">
        <mat-icon matListIcon>attach_file</mat-icon>
        <div matLine>{{ file.name }}</div>
        <div matLine class="secondary">{{ file.size | number }} bytes</div>
        <button mat-icon-button color="warn" (click)="removeFile(i)">
          <mat-icon>cancel</mat-icon>
        </button>
      </mat-list-item>
    </mat-list>

    <button mat-raised-button color="primary" (click)="uploadFiles()" [disabled]="isUploading">
      Upload
    </button>

    <mat-progress-bar *ngIf="isUploading" mode="indeterminate" color="accent"></mat-progress-bar>
  </div>

  <div *ngIf="uploaded.length > 0" class="uploaded-section">
    <h3>Uploaded Files</h3>
    <mat-list>
      <mat-list-item *ngFor="let file of uploaded; let i = index">
        <mat-icon matListIcon>check_circle</mat-icon>
        <div matLine>{{ file.name }}</div>
        <div matLine class="secondary">{{ file.size | number }} bytes</div>
        <button mat-icon-button color="warn" (click)="removeUploaded(i)">
          <mat-icon>delete</mat-icon>
        </button>
      </mat-list-item>
    </mat-list>
  </div>
</div>